<div class="flex flex-col gap-3 text-gray-500">
  <div class="flex gap-2 self-end bg-slate-950 px-3 py-1 rounded-full">
    @if (members.length !== 0) {
    <mat-icon
      class="cursor-pointer hover:text-sky-500 transition-all"
      [class.text-sky-500]="showAssignees"
      (click)="toggleShowAssignees()"
      >manage_accounts</mat-icon
    >
    }
    <mat-icon
      class="cursor-pointer hover:text-sky-500 transition-all"
      [class.text-sky-500]="!showAssignees || members.length === 0"
      (click)="toggleShowAddAssignee()"
      >person_add</mat-icon
    >
  </div>
  @if (showAssignees && members.length !== 0) {
  <div class="flex flex-col gap-4">
    <input
      type="text"
      [formControl]="browseControl"
      [placeholder]="'task.details.ASSIGNEE_INPUT_PLACEHOLDER' | translate"
      class="w-full py-2 px-3 border-none bg-slate-950 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-300 placeholder-slate-500"
    />
    <app-task-assignees-list
      iconName="person_remove"
      [users]="paginatedUsers"
      (handleClick)="handleRemove($event)"
    />
  </div>
  } @else {
  <app-task-add-user (userAdd)="handleAdd($event)" />
  }
  <div [@toggleDiv]="showAssignees ? 'show' : 'hide'">
    @if (showAssignees && members.length !== 0){
    <app-paginator
      [length]="filteredUsers.length"
      [pageSizeOptions]="[5, 10, 15]"
      [currentPage]="currentPage"
      (page)="pageChanged($event)"
    />
    }
  </div>
</div>
