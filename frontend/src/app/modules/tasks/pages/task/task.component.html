@if (confirmModal$ | async) {
<app-confirm-modal />
} @if (task) {
<div class="flex flex-col gap-10 w-full">
  <div class="flex flex-col-reverse gap-2 items-end">
    <button
      class="bg-slate-400 text-slate-900 hover:bg-slate-500 transition-all p-1 flex justify-center items-center rounded-full"
      (click)="handleGoBack()"
    >
      <mat-icon>arrow_back</mat-icon>
    </button>
    <div class="flex gap-2">
      <button
        class="bg-sky-300 text-slate-900 hover:bg-sky-400 transition-all p-1 flex justify-center items-center rounded-full"
        (click)="handleEdit()"
      >
        <mat-icon>edit</mat-icon>
      </button>
      <button
        class="bg-pink-900 text-pink-200 hover:bg-pink-950 transition-all p-1 flex justify-center items-center rounded-full"
        (click)="handleDelete()"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>
  <div class="flex flex-col justify-between">
    <app-task-details />
    @if (isLoading) {
    <app-spinner [relative]="true" />
    } @else {
    <app-task-assignees />
    }
  </div>
</div>
<button
  class="fixed bottom-4 right-4 rounded-full bg-sky-500 h-10 flex items-center justify-center aspect-square transition-all cursor-pointer shadow-sm text-white hover:scale-105"
  (click)="toggleChat()"
>
  <mat-icon class="icon-transition" [ngClass]="{ 'icon-rotate': showChat() }">
    @if (showChat()) { keyboard_arrow_up } @else { chat }
  </mat-icon>
</button>
@if (showChat()) {
<app-chat @chatAnimation [isTaskChat]="true" />
}}
