<nav
  class="bg-primary-light dark:bg-primary flex h-16 items-center justify-between shadow-xs"
>
  <div
    class="flex h-full shrink-0 cursor-pointer items-center px-4 py-2 focus-visible:ring-0 focus-visible:outline-hidden active:bg-transparent"
    routerLink="/"
  >
    <img
      [src]="
        isDarkTheme
          ? '/assets/images/logo.webp'
          : '/assets/images/logo-light.webp'
      "
      alt="ManageIt Logo"
      class="hidden h-2/3 sm:block"
    />
    <img
      src="/assets/images/logo-icon.webp"
      alt="ManageIt Logo"
      class="block h-3/4 sm:hidden"
    />
  </div>
  <div class="flex h-full items-center gap-4 sm:gap-10">
    <app-theme-toggle />
    <button
      [matMenuTriggerFor]="languageMenu"
      aria-label="Language menu"
      class="flex items-center justify-center transition-all hover:text-sky-500 focus-visible:rounded-full focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:outline-hidden active:text-sky-500"
    >
      <mat-icon>language</mat-icon>
    </button>
    <mat-menu #languageMenu="matMenu">
      @for (lang of languages; track lang.code) {
        <button
          mat-menu-item
          (click)="changeLanguage(lang)"
          aria-label="Change language"
        >
          <span
            [class.text-sky-500]="language === lang.code"
            [class.text-gray-500]="language !== lang.code"
            class="hover:text-sky-500"
            >{{ languageText(lang.code) }}</span
          >
        </button>
      }
    </mat-menu>
    @if (isLoggedIn) {
      <div class="mr-4 flex items-center justify-center">
        <button
          class="flex flex-row items-center gap-1.5 p-1 transition-all hover:text-sky-500 focus-visible:rounded-full focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:outline-hidden active:text-sky-500"
          (click)="logout()"
        >
          <mat-icon>logout</mat-icon>
          <p class="hidden sm:block">{{ "header.LOGOUT" | translate }}</p>
        </button>
      </div>
    } @else {
      <div
        class="hidden h-full text-base font-bold text-slate-700 sm:flex dark:text-slate-300"
      >
        <a
          routerLink="/auth/login"
          routerLinkActive="text-sky-500"
          class="flex h-full items-center px-4 transition-all hover:text-sky-500 focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:outline-hidden focus-visible:ring-inset"
          >{{ "header.LOGIN" | translate }}</a
        >
        <a
          routerLink="/auth/signup"
          routerLinkActive="text-sky-500"
          class="flex h-full items-center bg-orange-50 px-4 transition-all hover:text-sky-500 focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:outline-hidden focus-visible:ring-inset dark:bg-slate-900"
        >
          {{ "header.SIGN_UP_LONG" | translate }}
        </a>
      </div>
      <div class="mr-4 block sm:hidden">
        <button
          class="flex items-center justify-center"
          [matMenuTriggerFor]="operationMenu"
        >
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #operationMenu="matMenu">
          <button mat-menu-item routerLink="/auth/login">
            <mat-icon>login</mat-icon>
            <span>{{ "header.LOGIN" | translate }}</span>
          </button>
          <button mat-menu-item routerLink="/auth/signup">
            <mat-icon>person_add_alt</mat-icon>
            <span>{{ "header.SIGN_UP_SHORT" | translate }}</span>
          </button>
        </mat-menu>
      </div>
    }
  </div>
</nav>
